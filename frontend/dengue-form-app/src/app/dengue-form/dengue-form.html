<div class="google-form-container">
  <div class="form-header">
    <h1>Formul√°rio de Notifica√ß√£o de Dengue</h1>
    <p>Dataset DENGBR25 - Casos de Dengue Brasil 2025</p>
  </div>

  <div class="form-content">
    <form [formGroup]="dengueForm" (ngSubmit)="onSubmit()">
      
      <!-- Se√ß√£o 1: Identifica√ß√£o da Notifica√ß√£o -->
      <div class="form-section">
        <h2 class="section-title">üìã Identifica√ß√£o da Notifica√ß√£o</h2>
        
        <div class="form-field">
          <mat-form-field>
            <mat-label>Tipo de Notifica√ß√£o *</mat-label>
            <mat-select formControlName="tp_not">
              <mat-option *ngFor="let tipo of tipoNotificacao" [value]="tipo.value">
                {{tipo.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>C√≥digo CID-10 da doen√ßa</mat-label>
            <input matInput formControlName="id_agravo" placeholder="Ex: A90, A91">
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Data da Notifica√ß√£o *</mat-label>
            <input matInput [matDatepicker]="picker1" formControlName="dt_notific">
            <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>UF da Notifica√ß√£o *</mat-label>
            <input matInput formControlName="sg_uf_not" placeholder="Ex: SP, RJ" maxlength="2">
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>C√≥digo do Munic√≠pio</mat-label>
            <input matInput formControlName="id_municip" placeholder="C√≥digo IBGE">
          </mat-form-field>
        </div>
      </div>

      <!-- Se√ß√£o 2: Dados do Paciente -->
      <div class="form-section">
        <h2 class="section-title">üë§ Dados do Paciente</h2>
        
        <div class="form-field">
          <mat-form-field>
            <mat-label>Data de in√≠cio dos primeiros sintomas</mat-label>
            <input matInput [matDatepicker]="picker2" formControlName="dt_sin_pri">
            <mat-datepicker-toggle matIconSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-datepicker #picker2></mat-datepicker>
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Ano de nascimento</mat-label>
            <input matInput formControlName="ano_nasc" placeholder="AAAA" maxlength="4">
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Idade</mat-label>
            <input matInput formControlName="nu_idade_n" placeholder="Ex: 4018 = 18 anos">
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Sexo *</mat-label>
            <mat-select formControlName="cs_sexo">
              <mat-option *ngFor="let sexo of sexoOptions" [value]="sexo.value">
                {{sexo.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Gestante</mat-label>
            <mat-select formControlName="cs_gestant">
              <mat-option *ngFor="let gestante of gestanteOptions" [value]="gestante.value">
                {{gestante.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Ra√ßa/Cor</mat-label>
            <mat-select formControlName="cs_raca">
              <mat-option *ngFor="let raca of racaOptions" [value]="raca.value">
                {{raca.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Escolaridade</mat-label>
            <mat-select formControlName="cs_escol_n">
              <mat-option *ngFor="let escolaridade of escolaridadeOptions" [value]="escolaridade.value">
                {{escolaridade.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>

      <!-- Se√ß√£o 3: Dados de Resid√™ncia -->
      <div class="form-section">
        <h2 class="section-title">üè† Dados de Resid√™ncia e Proced√™ncia</h2>
        
        <div class="form-field">
          <mat-form-field>
            <mat-label>UF de Resid√™ncia</mat-label>
            <input matInput formControlName="sg_uf" placeholder="Ex: SP, RJ" maxlength="2">
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Munic√≠pio de Resid√™ncia</mat-label>
            <input matInput formControlName="id_mn_resi" placeholder="C√≥digo IBGE">
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Pa√≠s de Resid√™ncia</mat-label>
            <input matInput formControlName="id_pais" placeholder="Se exterior">
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Data de in√≠cio da investiga√ß√£o</mat-label>
            <input matInput [matDatepicker]="picker3" formControlName="dt_invest">
            <mat-datepicker-toggle matIconSuffix [for]="picker3"></mat-datepicker-toggle>
            <mat-datepicker #picker3></mat-datepicker>
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Ocupa√ß√£o (CBO)</mat-label>
            <input matInput formControlName="id_ocupa_n" placeholder="C√≥digo CBO">
          </mat-form-field>
        </div>
      </div>

      <!-- Se√ß√£o 4: Sinais e Sintomas Cl√≠nicos -->
      <div class="form-section">
        <h2 class="section-title">ü©∫ Sinais e Sintomas Cl√≠nicos</h2>
        <p><small>Para todos os campos abaixo: 1 = Sim, 2 = N√£o</small></p>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 16px;">
          <mat-form-field>
            <mat-label>Febre</mat-label>
            <mat-select formControlName="febre">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Dor muscular (Mialgia)</mat-label>
            <mat-select formControlName="mialgia">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Dor de cabe√ßa (Cefaleia)</mat-label>
            <mat-select formControlName="cefaleia">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Manchas na pele (Exantema)</mat-label>
            <mat-select formControlName="exantema">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>V√¥mito</mat-label>
            <mat-select formControlName="vomito">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>N√°usea/Enjoo</mat-label>
            <mat-select formControlName="nausea">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Dor nas costas</mat-label>
            <mat-select formControlName="dor_costas">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Conjuntivite</mat-label>
            <mat-select formControlName="conjuntvit">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Artrite</mat-label>
            <mat-select formControlName="artrite">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Dor nas articula√ß√µes (Artralgia)</mat-label>
            <mat-select formControlName="artralgia">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Pet√©quias</mat-label>
            <mat-select formControlName="petequia_n">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Dor retroorbital</mat-label>
            <mat-select formControlName="dor_retro">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>

      <!-- Se√ß√£o 5: Doen√ßas Pr√©-existentes -->
      <div class="form-section">
        <h2 class="section-title">üè• Doen√ßas Pr√©-existentes (Comorbidades)</h2>
        <p><small>Para todos os campos abaixo: 1 = Sim, 2 = N√£o</small></p>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 16px;">
          <mat-form-field>
            <mat-label>Diabetes mellitus</mat-label>
            <mat-select formControlName="diabetes">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Doen√ßas hematol√≥gicas</mat-label>
            <mat-select formControlName="hematolog">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Hepatopatias cr√¥nicas</mat-label>
            <mat-select formControlName="hepatopat">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Doen√ßa renal cr√¥nica</mat-label>
            <mat-select formControlName="renal">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Hipertens√£o arterial</mat-label>
            <mat-select formControlName="hipertensa">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Doen√ßa √°cido-p√©ptica</mat-label>
            <mat-select formControlName="acido_pept">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Doen√ßa autoimune</mat-label>
            <mat-select formControlName="auto_imune">
              <mat-option *ngFor="let option of simNaoOptions" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>

      <!-- Se√ß√£o 6: Exames Laboratoriais -->
      <div class="form-section">
        <h2 class="section-title">üî¨ Exames Laboratoriais</h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 16px;">
          <mat-form-field>
            <mat-label>Data da coleta de sorologia IgM</mat-label>
            <input matInput [matDatepicker]="picker4" formControlName="dt_coleta">
            <mat-datepicker-toggle matIconSuffix [for]="picker4"></mat-datepicker-toggle>
            <mat-datepicker #picker4></mat-datepicker>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Resultado sorologia IgM</mat-label>
            <mat-select formControlName="resul_soro">
              <mat-option *ngFor="let resultado of resultadoExameOptions" [value]="resultado.value">
                {{resultado.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Data coleta exame NS1</mat-label>
            <input matInput [matDatepicker]="picker5" formControlName="dt_ns1">
            <mat-datepicker-toggle matIconSuffix [for]="picker5"></mat-datepicker-toggle>
            <mat-datepicker #picker5></mat-datepicker>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Resultado NS1</mat-label>
            <mat-select formControlName="resul_ns1">
              <mat-option *ngFor="let resultado of resultadoExameOptions" [value]="resultado.value">
                {{resultado.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Data coleta RT-PCR</mat-label>
            <input matInput [matDatepicker]="picker6" formControlName="dt_pcr">
            <mat-datepicker-toggle matIconSuffix [for]="picker6"></mat-datepicker-toggle>
            <mat-datepicker #picker6></mat-datepicker>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Resultado RT-PCR</mat-label>
            <mat-select formControlName="resul_pcr">
              <mat-option *ngFor="let resultado of resultadoExameOptions" [value]="resultado.value">
                {{resultado.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>

      <!-- Se√ß√£o 7: Hospitaliza√ß√£o -->
      <div class="form-section">
        <h2 class="section-title">üè• Hospitaliza√ß√£o e Local da Infec√ß√£o</h2>
        
        <div class="form-field">
          <mat-form-field>
            <mat-label>Paciente foi hospitalizado?</mat-label>
            <mat-select formControlName="hospitaliz">
              <mat-option value="1">Sim</mat-option>
              <mat-option value="2">N√£o</mat-option>
              <mat-option value="9">Ignorado</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Data da interna√ß√£o</mat-label>
            <input matInput [matDatepicker]="picker7" formControlName="dt_interna">
            <mat-datepicker-toggle matIconSuffix [for]="picker7"></mat-datepicker-toggle>
            <mat-datepicker #picker7></mat-datepicker>
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>UF prov√°vel da infec√ß√£o</mat-label>
            <input matInput formControlName="coufinf" placeholder="Ex: SP, RJ" maxlength="2">
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Munic√≠pio prov√°vel da infec√ß√£o</mat-label>
            <input matInput formControlName="municipio" placeholder="C√≥digo IBGE">
          </mat-form-field>
        </div>
      </div>

      <!-- Se√ß√£o 8: Encerramento do Caso -->
      <div class="form-section">
        <h2 class="section-title">üìã Encerramento do Caso</h2>
        
        <div class="form-field">
          <mat-form-field>
            <mat-label>Classifica√ß√£o final</mat-label>
            <mat-select formControlName="classi_fin">
              <mat-option value="1">Confirmado</mat-option>
              <mat-option value="2">Descartado</mat-option>
              <mat-option value="9">Ignorado</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Crit√©rio de confirma√ß√£o</mat-label>
            <mat-select formControlName="criterio">
              <mat-option value="1">Laboratorial</mat-option>
              <mat-option value="2">Cl√≠nico-epidemiol√≥gico</mat-option>
              <mat-option value="3">Cl√≠nico</mat-option>
              <mat-option value="4">Descartado</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Data de encerramento</mat-label>
            <input matInput [matDatepicker]="picker8" formControlName="dt_encerra">
            <mat-datepicker-toggle matIconSuffix [for]="picker8"></mat-datepicker-toggle>
            <mat-datepicker #picker8></mat-datepicker>
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Evolu√ß√£o</mat-label>
            <mat-select formControlName="evolucao">
              <mat-option value="1">Cura</mat-option>
              <mat-option value="2">√ìbito por dengue</mat-option>
              <mat-option value="3">√ìbito por outras causas</mat-option>
              <mat-option value="4">√ìbito em investiga√ß√£o</mat-option>
              <mat-option value="9">Ignorado</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="form-field">
          <mat-form-field>
            <mat-label>Data do √≥bito (se aplic√°vel)</mat-label>
            <input matInput [matDatepicker]="picker9" formControlName="dt_obito">
            <mat-datepicker-toggle matIconSuffix [for]="picker9"></mat-datepicker-toggle>
            <mat-datepicker #picker9></mat-datepicker>
          </mat-form-field>
        </div>
      </div>

      <!-- Bot√µes de a√ß√£o -->
      <div style="margin-top: 32px; text-align: center;">
        <button mat-raised-button color="primary" type="submit" [disabled]="!dengueForm.valid || isLoading">
          <mat-spinner *ngIf="isLoading" diameter="20" style="margin-right: 8px;"></mat-spinner>
          {{ isLoading ? 'Enviando...' : 'Enviar Notifica√ß√£o' }}
        </button>
        <button mat-button type="button" style="margin-left: 16px;" (click)="clearForm()" [disabled]="isLoading">
          Limpar Formul√°rio
        </button>
        <button mat-stroked-button type="button" style="margin-left: 16px;" (click)="testApiConnection()" [disabled]="isLoading">
          Testar Conex√£o API
        </button>
      </div>
    </form>
  </div>
</div>
